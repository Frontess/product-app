(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{7153:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return a(3061)}])},3061:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return products}});var r=a(5893),i=a(7294),n=a(9473),c=a(5976),s=a(1664),l=a.n(s),d=a(8519),o=a.n(d),components_Card=e=>{let{id:t,title:a,description:i,image:n,liked:c,onToggleLike:s,onDelete:d}=e;return(0,r.jsxs)("div",{className:o().card,children:[(0,r.jsx)(l(),{href:"/products/".concat(t),children:(0,r.jsxs)("div",{className:o().cardContent,children:[(0,r.jsx)("img",{src:n,alt:a,className:o().image}),(0,r.jsx)("h3",{className:o().cardTitle,children:a}),(0,r.jsxs)("p",{children:[i.slice(0,100),"..."]})]})}),(0,r.jsxs)("div",{className:o().actions,children:[(0,r.jsx)("button",{onClick:s,className:c?o().liked:o().likeButton,children:"❤️"}),(0,r.jsx)("button",{onClick:d,className:o().deleteButton,children:"\uD83D\uDDD1️"})]})]})},products=()=>{let[e,t]=(0,i.useState)("all"),[a,s]=(0,i.useState)(""),{items:d,loading:_,error:u}=(0,n.v9)(e=>e.products),h=(0,n.I0)();(0,i.useEffect)(()=>{d.length||h((0,c.QD)())},[h,d.length]);let C=(0,i.useMemo)(()=>d.filter(t=>{let r="favorites"!==e||t.liked,i=t.title.toLowerCase().includes(a.toLowerCase())||t.description.toLowerCase().includes(a.toLowerCase());return r&&i}),[d,e,a]);return _?(0,r.jsx)("div",{children:"Идёт загрузка товаров..."}):u?(0,r.jsxs)("div",{children:["Ошибка загрузки товаров: ",u]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:o().header,children:[(0,r.jsx)(l(),{href:"/",children:(0,r.jsx)("img",{src:"/product-app/favicon.ico",alt:"Логотип Product App",className:o().logo})}),(0,r.jsx)("h1",{className:o().pageTitle,children:"Наши товары"})]}),(0,r.jsx)(l(),{href:"/create-product",children:(0,r.jsx)("button",{className:o().createButton,children:"Создать продукт"})}),(0,r.jsx)("input",{type:"text",placeholder:"Поиск товаров...",value:a,onChange:e=>s(e.target.value),className:o().searchInput}),(0,r.jsxs)("div",{className:o().filterButtons,children:[(0,r.jsx)("button",{className:"".concat(o().filterButton," ").concat("all"===e?o().activeButton:""),onClick:()=>t("all"),children:"Все"}),(0,r.jsx)("button",{className:"".concat(o().filterButton," ").concat("favorites"===e?o().activeButton:""),onClick:()=>t("favorites"),children:"Избранные"})]}),(0,r.jsx)("div",{className:o().cardContainer,children:C.map(e=>(0,r.jsx)(components_Card,{id:e.id,title:e.title,description:e.description,image:e.image,liked:e.liked,onToggleLike:()=>h((0,c.VO)(e.id)),onDelete:()=>h((0,c.Ir)(e.id))},e.id))})]})}},8519:function(e){e.exports={header:"Card_header__dcVMr",logo:"Card_logo__0CtRi",pageTitle:"Card_pageTitle__4C70z",cardContainer:"Card_cardContainer__TIvCg",card:"Card_card__M__Vj",image:"Card_image__kXmAW",cardTitle:"Card_cardTitle__mD6Ix",cardDescription:"Card_cardDescription__tyJh6",actions:"Card_actions__W0Wzd",likeButton:"Card_likeButton__DS_9b",deleteButton:"Card_deleteButton__qlCVW",liked:"Card_liked__XJrXe",createButton:"Card_createButton__R2oBw",filterButtons:"Card_filterButtons__1JpOt",filterButton:"Card_filterButton___H1aP",activeButton:"Card_activeButton__B6ga8",searchInput:"Card_searchInput__8LYT2"}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=7153)}),_N_E=e.O()}]);